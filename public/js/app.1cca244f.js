(function(){"use strict";var t={3748:function(t,e,s){var a=s(6369),i=s(6553),o=s.n(i),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},n=[],l={name:"App"},c=l,m=s(1001),d=(0,m.Z)(c,r,n,!1,null,null,null),u=d.exports,g=(s(7755),s(3822));const h={baseUrl:"/",TOKEN_KEY:"token",EMAIL_KEY:"email"};var f=h,p=s(6265),v=s.n(p),C={async loginUserAction({commit:t},e){try{const s=await v().post(`${f.baseUrl}/auth/Login`,e);return t("loginUser",s.data),localStorage.setItem(f.TOKEN_KEY,s.data.token),{code:s.status,msg:s.data.message}}catch(s){return{code:s.response.status,msg:s.response.data.message}}},logout(){return localStorage.removeItem(f.TOKEN_KEY,""),!0},async registerUserAction({commit:t},e){try{let s=await v().post(`${f.baseUrl}/auth/Register`,e);return t("registerSuccess","Register success"),{code:s.status,msg:s.data.message}}catch(s){return console.log(s.response),{code:s.response.status,msg:s.response.data.message}}}},b={isAuthenticated:t=>!!t.user.token},y={loginUser(t,e){console.log("They caled me"),t.user=e,t.userDetails=e},registerSuccess(t,e){t.succ=e}},w={user:{token:localStorage.getItem("token")||null},userDetails:{},succ:{}},x={namespaced:!0,actions:C,mutations:y,state:w,getters:b},_={async createCommunity(t,e){try{let t=await v().post(`${f.baseUrl}/community/create`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return!!t}catch(s){return console.log(s),!1}},async getAllCOmmunity({commit:t}){try{const{data:e}=await v().post(`${f.baseUrl}/community/getAll`,{},{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t("getAllComm",e)}catch(e){console.log()}},async joinCommunity(t,e){console.log("From action",e);try{let t=await v().post(`${f.baseUrl}/community/joinCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return{code:t.status,msg:t.data.msg}}catch(s){return{code:s.response.status,msg:s.response.data.msg}}},async acceptRequest(t,e){try{let t=await v().post(`${f.baseUrl}/community/acceptMember`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(t,t&&e.isAccept),!(!t||!e.isAccept)}catch(s){return console.log(s),!1}},async editCommunity(t,e){try{let t=await v().post(`${f.baseUrl}/community/editCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return!!t}catch(s){return console.log(s),!1}},async leaveCommunity(t,e){try{let t=await v().post(`${f.baseUrl}/community/leaveCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return!!t}catch(s){return console.log(s),!1}},async deleteCommunity(t,e){try{let t=await v().post(`${f.baseUrl}/community/deleteCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return!!t}catch(s){return console.log(s),!1}},async getUserJoinComm({commit:t},e){try{const{data:s}=await v().post(`${f.baseUrl}/community/userCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t("getUserJoinedComm",s)}catch(s){console.log()}},async singleChannInfo({commit:t},e){try{const{data:s}=await v().post(`${f.baseUrl}/community/getSingleCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t("getSingleChannInfo",s)}catch(s){console.log(s)}},async CommAllPost({commit:t},e){try{const{data:s}=await v().post(`${f.baseUrl}/posts/getByCommunity`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t("getCommPost",s)}catch(s){console.log(s)}},async CreatePost({commit:t},e){try{const s=await v().post(`${f.baseUrl}/posts/create`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t("addPost",s.data),{code:s.status,msg:s.data.msg}}catch(s){return{code:s.response.status,msg:s.response.data.msg}}},async DeletePost(t,e){try{await v().post(`${f.baseUrl}/posts/deleteMyPost`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(s){console.log(s)}},async LikePost(t,e){try{await v().post(`${f.baseUrl}/likes/likePost`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}})}catch(s){console.log(s)}},async UnLikePost(t,e){try{await v().post(`${f.baseUrl}/likes/removelike`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}}),console.log(localStorage.getItem("token"))}catch(s){console.log(s)}},async Comment({commit:t},e){try{const{data:s}=await v().post(`${f.baseUrl}/comment/addAComment`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return t("allComments",s),!!s}catch(s){return console.log(s),!1}},async allComments({commit:t},e){try{t("getComments",e)}catch(s){console.log(s)}}},$={getAllComm(t,e){t.commList=e},getUserJoinedComm(t,e){t.userJoinComm=e},getSingleChannInfo(t,e){t.singleChannel=e},getCommPost(t,e){t.commPost=e},addPost(t,e){t.commPost.push(e)},allComments(t,e){t.comments.push(e)},getComments(t,e){t.allComments=e}},k={commList:[],userJoinComm:[],singleChannel:[],commPost:[],comments:[],allComments:[]},P={namespaced:!0,actions:_,mutations:$,state:k},S={async updateUser(t,e){try{const{data:t}=await v().post(`${f.baseUrl}/user/profileChange`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(t),!!t}catch(s){return console.log(s),!1}},async getMyDetails({commit:t},e){try{const{data:s}=await v().post(`${f.baseUrl}/user/getMyDetails`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});return console.log(s),t("auth/loginUser",s,{root:!0}),!!s}catch(s){return console.log(s),!1}}},L={getAllComm(t,e){t.commList=e}},j={ImageUrl:""},N={namespaced:!0,actions:S,mutations:L,state:j};a.ZP.use(g.ZP);const A={auth:x,comm:P,user:N},U=new g.ZP.Store({modules:A});var I=U,T=s(4659),D=s(2631),B=function(){var t=this,e=t._self._c;return e("section",{staticClass:"h-screen"},[e("div",{staticClass:"px-6 h-full text-gray-800"},[e("div",{staticClass:"flex xl:justify-center lg:justify-between justify-center items-center flex-wrap h-full g-6"},[t._m(0),e("div",{staticClass:"xl:ml-20 xl:w-5/12 lg:w-5/12 md:w-8/12 mb-12 md:mb-0 add-p"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.handleSubmit()}}},[e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"username"}},[t._v(" Email ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"text",id:"exampleFormControlInput2",placeholder:"Email address"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t.$v.form.email.$error?e("div",[t.$v.form.email.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The email field is required")])]),t.$v.form.email.email?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("Invalid email address")])])]):t._e(),e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[t._v(" Password ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"password",id:"exampleFormControlInput2",placeholder:"Password"},domProps:{value:t.form.password},on:{blur:function(e){return t.$v.form.password.$touch()},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t.$v.form.password.$error?e("div",[t.$v.form.password.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password field is required")])]),t.$v.form.password.minLength?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 8 characters")])]),t.$v.form.password.containsUppercase?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 uppercase character")])]),t.$v.form.password.containsLowercase?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 lowercase character")])]),t.$v.form.password.containsNumber?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 digit")])]),t.$v.form.password.containsSpecial?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 special character")])])]):t._e(),e("div",{staticClass:"text-center lg:text-left"},[e("div",[t.isLoading?e("div",{staticClass:"flex items-center justify-start"},[e("button",{staticClass:"inline-flex items-center px-3 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow opacity-50 cursor-not-allowed",attrs:{type:"button",disabled:"true"}},[e("svg",{staticClass:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading... ")])]):e("div",{staticClass:"flex items-center justify-start"},[e("button",{staticClass:"inline-flex items-center px-10 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow hover:bg-blue-500",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" Submit ")])])]),e("p",{staticClass:"text-sm font-semibold mt-2 pt-1 mb-0"},[t._v(" Don't have an account? "),e("router-link",{staticClass:"text-red-600 hover:text-red-700 focus:text-red-700 transition duration-200 ease-in-out",attrs:{to:"/register",href:"#!"}},[t._v("Register")])],1)])])])])])])},q=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"grow-0 shrink-1 md:shrink-0 basis-auto xl:w-6/12 mb-12 md:mb-0 hidden-img"},[e("img",{staticClass:"w-full",attrs:{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",alt:"Sample image"}})])}],F=s(5795),z={name:"LoginPage",data(){return{form:{email:"",password:""},errMsg:"",isLoading:""}},watch:{errMsg(t,e){t!==e&&setTimeout((()=>{this.errMsg=""}),4e3)}},validations:{form:{email:{email:F.Do,required:F.C1},password:{required:F.C1,minLength:(0,F.Ei)(8),containsUppercase:function(t){return/[A-Z]/.test(t)},containsLowercase:function(t){return/[a-z]/.test(t)},containsNumber:function(t){return/[0-9]/.test(t)},containsSpecial:function(t){return/[#?!@$%^&*-]/.test(t)}}}},methods:{async handleSubmit(){this.$v.form.$touch();let t=this.form;if(this.$v.form.$invalid)console.log("invalid input values");else try{this.isLoading=!0;let e=await this.$store.dispatch("auth/loginUserAction",t);400===e.code?(this.isLoading=!1,this.$swal.fire(e.msg,"","error")):(this.isLoading=!1,this.$swal.fire(e.msg,"","success"),this.$router.push({name:"home"}))}catch(e){this.errMsg="Login failed",console.log(e)}}}},M=z,E=(0,m.Z)(M,B,q,!1,null,null,null),J=E.exports,Z=function(){var t=this,e=t._self._c;return e("section",{staticClass:"h-screen"},[e("div",{staticClass:"px-6 h-full text-gray-800"},[e("div",{staticClass:"flex xl:justify-center lg:justify-between justify-center items-center flex-wrap h-full g-6"},[t._m(0),e("div",{staticClass:"xl:ml-20 xl:w-5/12 lg:w-5/12 md:w-8/12 mb-12 md:mb-0 add-p dim"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.signUp()}}},[e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"firstname"}},[t._v(" Firstname ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstname,expression:"form.firstname"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"text",placeholder:"First Name"},domProps:{value:t.form.firstname},on:{blur:function(e){return t.$v.form.firstname.$touch()},input:function(e){e.target.composing||t.$set(t.form,"firstname",e.target.value)}}})]),t.$v.form.firstname.$error?e("div",[t.$v.form.firstname.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The FirstName field is required")])])]):t._e(),e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"lastname"}},[t._v(" Last Name ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lastname,expression:"form.lastname"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"text",id:"exampleFormControlInput2",placeholder:"last Name"},domProps:{value:t.form.lastname},on:{blur:function(e){return t.$v.form.lastname.$touch()},input:function(e){e.target.composing||t.$set(t.form,"lastname",e.target.value)}}})]),t.$v.form.lastname.$error?e("div",[t.$v.form.lastname.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The Last Name field is required")])])]):t._e(),e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"username"}},[t._v(" Email ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"text",id:"exampleFormControlInput2",placeholder:"Email address"},domProps:{value:t.form.email},on:{blur:function(e){return t.$v.form.email.$touch()},input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),t.$v.form.email.$error?e("div",[t.$v.form.email.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The email field is required")])]),t.$v.form.email.email?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("Invalid email address")])])]):t._e(),e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"phone"}},[t._v(" Phone ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"text",id:"exampleFormControlInput2",placeholder:"Phone Number"},domProps:{value:t.form.phone},on:{blur:function(e){return t.$v.form.phone.$touch()},input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),t.$v.form.phone.$error?e("div",[t.$v.form.phone.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The phone field is required")])])]):t._e(),e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[t._v(" Password ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"password",id:"exampleFormControlInput2",placeholder:"Password"},domProps:{value:t.form.password},on:{blur:function(e){return t.$v.form.password.$touch()},input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}})]),t.$v.form.password.$error?e("div",[t.$v.form.password.required?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password field is required")])]),t.$v.form.password.minLength?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 8 characters")])]),t.$v.form.password.containsUppercase?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 uppercase character")])]),t.$v.form.password.containsLowercase?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 lowercase character")])]),t.$v.form.password.containsNumber?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 digit")])]),t.$v.form.password.containsSpecial?t._e():e("div",{staticClass:"error-message"},[e("small",{staticClass:"text-red-600"},[t._v("The password must have at least 1 special character")])])]):t._e(),e("div",{staticClass:"mb-6"},[e("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"password"}},[t._v(" Confirm Password ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.confirmPassword,expression:"form.confirmPassword"}],staticClass:"form-control block w-full px-4 py-2 text-xl font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none",attrs:{type:"password",id:"exampleFormControlInput2",placeholder:"Password"},domProps:{value:t.form.confirmPassword},on:{blur:function(e){return t.$v.form.confirmPassword.$touch()},input:function(e){e.target.composing||t.$set(t.form,"confirmPassword",e.target.value)}}})]),e("div",{staticClass:"text-center lg:text-left"},[e("div",[t.isLoading?e("div",{staticClass:"flex items-center justify-start"},[e("button",{staticClass:"inline-flex items-center px-3 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow opacity-50 cursor-not-allowed",attrs:{type:"button",disabled:"true"}},[e("svg",{staticClass:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading... ")])]):e("div",{staticClass:"flex items-center justify-start"},[e("button",{staticClass:"inline-flex items-center px-10 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow hover:bg-blue-500",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.signUp.apply(null,arguments)}}},[t._v(" Sign Up ")])])]),e("p",{staticClass:"text-sm font-semibold mt-2 pt-1 mb-0"},[t._v(" Already have an account? "),e("router-link",{staticClass:"text-red-600 hover:text-red-700 focus:text-red-700 transition duration-200 ease-in-out",attrs:{to:"/"}},[t._v("Login")])],1)])])])])])])},O=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"grow-0 shrink-1 md:shrink-0 basis-auto xl:w-6/12 mb-12 md:mb-0 hidden-img"},[e("img",{staticClass:"w-full",attrs:{src:"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp",alt:"Sample image"}})])}],H={name:"RegisterPage",data(){return{form:{firstname:"",lastname:"",email:"",phone:"",password:"",confirmPassword:""},isLoading:""}},validations:{form:{firstname:{required:F.C1},lastname:{required:F.C1},email:{required:F.C1,email:F.Do},phone:{required:F.C1},password:{required:F.C1,minLength:(0,F.Ei)(8),containsUppercase:function(t){return/[A-Z]/.test(t)},containsLowercase:function(t){return/[a-z]/.test(t)},containsNumber:function(t){return/[0-9]/.test(t)},containsSpecial:function(t){return/[#?!@$%^&*-]/.test(t)}},confirmPassword:{required:F.C1,sameAs:(0,F.sH)("password")}}},methods:{async signUp(){this.$v.form.$touch();let t=this.form;if(this.$v.form.$invalid)this.$swal.fire("Please fill all details","","error");else if(this.form.password===this.form.confirmPassword){this.isLoading=!0;let e=await this.$store.dispatch("auth/registerUserAction",t);400===e.code?(this.isLoading=!1,this.$swal.fire(e.msg,"","error")):(this.isLoading=!1,this.$swal.fire(e.msg,"","success"),this.$router.push({name:"login"}))}else alert("Password and confirm password does not match")}}},K=H,R=(0,m.Z)(K,Z,O,!1,null,null,null),V=R.exports,Y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"h-screen overflow-hidden"},[e("NavBar"),0===t.userJoinComm.length?e("div",[e("NewUser")],1):e("div",[e("MainPage")],1)],1)},W=[],G=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-10"},[e("div",[e("img",{staticClass:"h-80 mx-auto",attrs:{src:s(2308),alt:"Home community"}}),e("p",{staticClass:"mt-6 text-xl font-semibold text-center"},[t._v("Let's get Started!")]),e("p",{staticClass:"mt text-lg font-semibold text-center"},[t._v(" Start your activity by creating first channel or joining or any existing channel ")]),e("div",{staticClass:"text-center"},[e("div",{staticClass:"flex mx-auto justify-evenly mt-6 w-3/12 res"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-lg text-md py-3 px-5 text-center w-40",attrs:{type:"button"},on:{click:t.newToggle}},[t._v(" New Channel ")]),e("button",{staticClass:"text-black bg-gradient-to-r from-slate-100 to-slate-300 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-lg text-md py-3 px-5 text-center w-40",attrs:{type:"button"},on:{click:t.joinToggle}},[t._v(" Join channel ")])])])]),t.newToggleClick?e("div",[e("CreateChannel",{attrs:{toggle:t.newToggle}})],1):t._e(),t.joinToggleClick?e("div",[e("AllCommModal",{attrs:{toggle:t.joinToggle}})],1):t._e()])},Q=[],X=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container w mx-auto"},[e("div",{staticClass:"flex justify-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"absolute inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50 bg-opa"},[e("div",{staticClass:"max-w-2xl p-6 bg-white rounded-md shadow-xl"},[e("div",{staticClass:"flex items-center justify-between w-80"},[e("h3",{staticClass:"text-2xl"},[t._v("Create Channel")]),e("svg",{staticClass:"w-8 h-8 text-red-900 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.toggle}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e("form",{staticClass:"mt-4",on:{submit:function(e){return e.preventDefault(),t.handleSubmit()}}},[e("div",{staticClass:"flex justify-center"},[e("div",{staticClass:"flex items-center justify-center w-full h-60 border-2 border-dashed border-red-400"},[e("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.onFileSelected}})])]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.channelName,expression:"form.channelName"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Channel Name"},domProps:{value:t.form.channelName},on:{blur:function(e){return t.$v.form.channelName.$touch()},input:function(e){e.target.composing||t.$set(t.form,"channelName",e.target.value)}}}),t.$v.form.channelName.$error?e("div",[t.$v.form.channelName.required?t._e():e("div",{staticClass:"error-message"},[e("small",[t._v("This field can't be empty")])]),t.$v.form.channelName.minLength?t._e():e("div",{staticClass:"error-message"},[e("small",[t._v("min 4 character needs")])])]):t._e()]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.des,expression:"form.des"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.form.des},on:{blur:function(e){return t.$v.form.des.$touch()},input:function(e){e.target.composing||t.$set(t.form,"des",e.target.value)}}}),t.$v.form.des.$error?e("div",[t.$v.form.des.required?t._e():e("div",{staticClass:"error-message"},[e("small",[t._v("This field can't be empty")])]),t.$v.form.des.minLength?t._e():e("div",{staticClass:"error-message"},[e("small",[t._v("min 10 character needs")])])]):t._e()]),e("div",{staticClass:"flex justify-around my-2 w-full gap-3"},[e("button",{staticClass:"w-40 py-2 border border-blue-600 rounded",class:"Public"===t.form.channelType?"bg-blue-600 text-white":"border-blue-600 text-blue-800 ",on:{click:function(e){return e.preventDefault(),t.selectType("Public")}}},[t._v(" Public ")]),e("button",{staticClass:"w-40 py-2 border border-blue-600 rounded",class:"Private"===t.form.channelType?"bg-blue-600 text-white":"border-blue-600 text-blue-800 ",on:{click:function(e){return e.preventDefault(),t.selectType("Private")}}},[t._v(" Private ")])]),e("div",[t.isLoading?e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-3 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow opacity-50 cursor-not-allowed",attrs:{type:"button",disabled:"true"}},[e("svg",{staticClass:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading... ")])]):e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-10 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow hover:bg-blue-500",attrs:{type:"submit"}},[t._v(" Submit ")])])])])])])])])},tt=[],et={name:"CreateChannel",props:{toggle:{type:Function,required:!0}},data(){return{isOpen:!1,selectedFile:null,imgS3Url:null,isLoading:!1,form:{channelName:"",des:"",channelType:"Public"}}},validations:{form:{channelName:{required:F.C1,minLength:(0,F.Ei)(4)},des:{required:F.C1,minLength:(0,F.Ei)(12)}}},methods:{async onFileSelected(t){this.selectedFile=t.target.files[0];let e=new FormData;e.append("image",this.selectedFile),this.isLoading=!0;let s=await v().post(`${f.baseUrl}/s3Path/ImgUrl`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.isLoading=!1,this.imgS3Url=s.data.imageUrl},selectType(t){this.form.channelType=t},async handleSubmit(){let t={communityName:this.form.channelName,description:this.form.des,communityImage:this.imgS3Url,type:this.form.channelType};this.isLoading=!0;let e=await this.$store.dispatch("comm/createCommunity",t);e?(this.isLoading=!1,this.toggle(),this.$swal.fire("Succesfully Community Created","","success"),await this.$store.dispatch("comm/getUserJoinComm")):(this.isLoading=!1,this.$swal.fire("Something Went Wrong","","error"))}}},st=et,at=(0,m.Z)(st,X,tt,!1,null,null,null),it=at.exports,ot=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto"},[e("div",{staticClass:"flex justify-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"absolute inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50"},[e("div",{staticClass:"max-w-2xl p-6 bg-white rounded-md shadow-xl w-3/5 res-box"},[e("div",{staticClass:"flex justify-between"},[e("h3",{staticClass:"text-2xl"},[t._v("Community List")]),e("svg",{staticClass:"w-8 h-8 text-red-900 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.toggle}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e("div",[e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"border-2 rounded-lg border-gray-500 w-full my-3 p-2",attrs:{placeholder:"Search community",type:"text"},domProps:{value:t.searchKey},on:{change:t.srcProd,input:function(e){e.target.composing||(t.searchKey=e.target.value)}}})]),e("div",{staticClass:"h-96 overflow-auto cust-overflow-y-primary-color-grey"},t._l(t.srcProd(),(function(s){return e("div",{key:s._id,staticClass:"flex items-center w-full my-5 shadow-lg rounded-lg border p-3"},[e("div",{staticClass:"w-24 px-2 res-img"},[e("img",{staticClass:"h-16 w-24 rounded-full res-img",attrs:{src:s.communityImage,alt:"Home community"}})]),e("div",{staticClass:"mx-3"},[e("div",{staticClass:"flex"},[e("h3",[t._v(t._s(s.communityName))]),e("p",{staticClass:"text-cyan-500 mx-3"},[t._v(t._s(s.type))])]),e("p",[t._v(" "+t._s(s.description)+" ")])]),e("div",{staticClass:"self-center w-44 res-list-btn"},[s.members.filter((e=>e.user._id==t.userDetails.user._id)).length>0?e("div",{staticClass:"self-center"},[e("button",{staticClass:"text-white bg-gradient-to-r from-yellow-500 to-slate-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-normal rounded-3xl text-sm py-2 px-4 text-center"},[t._v(" Request Sent ")])]):e("div",{staticClass:"self-center text-center"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md py-2 px-8 text-center",on:{click:function(e){return e.preventDefault(),t.joinComm(s._id)}}},[t._v(" Join ")])])])])})),0)])])])])])},rt=[],nt={name:"AllCommModal",props:{toggle:{type:Function,required:!0}},data(){return{isOpen:!1,searchKey:""}},computed:{...(0,g.rn)("comm",["commList"]),...(0,g.rn)("auth",["userDetails"])},methods:{async joinComm(t){let e={communityId:t};await this.$store.dispatch("comm/joinCommunity",e),await this.$store.dispatch("comm/getAllCOmmunity"),await this.$store.dispatch("comm/getUserJoinComm")},srcProd(){let t=this.commList.length>0?this.commList:[];return t.filter((t=>t.communityName.toLowerCase().includes(this.searchKey.toLowerCase())))}},async created(){await this.$store.dispatch("comm/getAllCOmmunity")}},lt=nt,ct=(0,m.Z)(lt,ot,rt,!1,null,null,null),mt=ct.exports,dt={name:"NewUser",components:{CreateChannel:it,AllCommModal:mt},data(){return{newToggleClick:!1,joinToggleClick:!1}},methods:{newToggle(){this.newToggleClick=!this.newToggleClick},joinToggle(){this.joinToggleClick=!this.joinToggleClick},getAll(){console.log("Get All community call")}},async mounted(){this.getAll()}},ut=dt,gt=(0,m.Z)(ut,G,Q,!1,null,null,null),ht=gt.exports,ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"overflow-hidden h-screen main-div"},[e("div",{staticClass:"grid grid-cols-3 h-screen px-10 pt-5 bg-white main"},[e("div",{},[e("CommList")],1),e("div",[e("PostSection")],1),e("div",[e("ProfileSection")],1)])])},pt=[],vt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"border-slate-300 overflow-auto row-span-full rounded-r-lg overflow-auto scroll-hidden"},[e("div",[e("div",{staticClass:"shadow-lg p-3 rounded-lg mt-5",class:!t.singleChannel.data&&"height-profile"},[e("h3",{staticClass:"text-left py-2 font-semibold"},[t._v("Profile Details")]),e("div",{staticClass:"grid justify-items-center"},[e("div",{staticClass:"grid justify-center w-1/3"},[void 0!==t.userDetails.user.profile?e("div",[e("img",{staticClass:"h-24 rounded-full",attrs:{src:t.userDetails.user.profile,alt:"Home community"}})]):t._e(),e("div",{staticClass:"text-center"},[e("p",{},[t._v(" "+t._s(t.user.user.firstname.toUpperCase()+" "+t.user.user.lastname.toUpperCase())+" ")])])])]),e("div",{staticClass:"flex justify-evenly m-2"},[e("div",[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-lg text-md py-1 px-5 text-center",on:{click:t.toggle}},[e("i",{staticClass:"fa-solid fa-plus"}),t._v(" Create Channel ")])]),e("div",[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-lg text-md py-1 px-5 text-center",on:{click:t.editToggle}},[e("i",{staticClass:"fa-solid fa-pen-to-square"}),t._v(" Edit Profile ")])])])]),t.singleChannel.data?e("div",{staticClass:"height-div"},[e("div",{staticClass:"shadow-lg p-3 rounded-lg"},[e("h3",{staticClass:"text-left py-2 font-semibold"},[t._v("Channel Details")]),e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"w-16"},[e("img",{staticClass:"h-16 rounded-full",attrs:{src:t.singleChannel.data.communityImage,alt:"Home community"}})]),e("div",{staticClass:"flex flex-col flex-1 ml-2"},[e("div",[e("span",[t._v(t._s(t.singleChannel.data.communityName))]),e("span",{staticClass:"ml-2 text-blue-400"},[t._v(t._s(t.singleChannel.data.type))])]),e("p",{staticClass:"break-all"},[t._v(" "+t._s(t.singleChannel.data.description)+" ")]),e("p",[t._v(" Admin: "),e("span",[t._v(t._s(t.singleChannel.data.createdBy.user.firstname)+" "+t._s(t.singleChannel.data.createdBy.user.lastname))])])])]),e("div",{staticClass:"flex mt-2 w-11/12",class:"owner"===t.singleChannel.currentuser.role?"justify-between":"justify-center"},["owner"===t.singleChannel.currentuser.role?e("div",{staticClass:"w-36"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-md text-md py-1 px-3 text-center w-56",on:{click:t.editChnToggle}},[e("i",{staticClass:"fa-solid fa-pen-to-square"}),t._v(" Edit Community ")])]):t._e(),"owner"!==t.singleChannel.currentuser.role?e("div",{staticClass:"w-40"},[e("button",{staticClass:"text-white bg-gradient-to-r from-red-500 to-red-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-md text-md py-1 px-3 text-center w-52",on:{click:function(e){return t.leaveComm(t.singleChannel.data._id)}}},[e("i",{staticClass:"fa-solid fa-pen-to-square"}),t._v(" leave Community ")])]):t._e(),"owner"===t.singleChannel.currentuser.role?e("div",{staticClass:"w-40"},[e("button",{staticClass:"text-white bg-gradient-to-r from-red-500 to-red-400 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-md text-md py-1 px-3 text-center w-52",on:{click:function(e){return t.deleteComm(t.singleChannel.data._id)}}},[e("i",{staticClass:"fa-regular fa-trash-can"}),t._v(" Delete Community ")])]):t._e()])]),t.singleChannel.data.members.filter((t=>0==t.isAccepted)).length>0&&"member"!==t.singleChannel.currentuser.role?e("JoinRequest"):t._e()],1):t._e()]),t.visible?e("div",[e("CreateChannel",{attrs:{toggle:t.toggle}})],1):t._e(),t.editVisible?e("div",[e("EditProfile",{attrs:{toggle:t.editToggle}})],1):t._e(),t.editChannel&&t.singleChannel.length>0?e("div",[e("EditChannel",{attrs:{toggle:t.editChnToggle}})],1):t._e()])},Ct=[],bt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"shadow-lg p-3 rounded-lg mt-5"},[t._m(0),t._l(t.reqCheck(),(function(s){return e("div",{key:s._id},[e("div",{staticClass:"flex items-center justify-between shadow-md rounded-md p-2 mt-2"},[e("p",[t._v(t._s(s.user.firstname+" "+s.user.lastname))]),e("div",{staticClass:"flex w-28 justify-between"},[e("div",{staticClass:"border-2 rounded-full bg-green-300"},[e("button",{staticClass:"px-4 py-3",on:{click:function(e){return t.joinRequest(s.user._id,"true")}}},[e("i",{staticClass:"fa-solid fa-check"})])]),e("div",{staticClass:"border-2 rounded-full bg-red-500"},[e("button",{staticClass:"px-5 py-3",on:{click:function(e){return t.joinRequest(s.user._id,"false")}}},[e("i",{staticClass:"fa-solid fa-xmark"})])])])])])}))],2)},yt=[function(){var t=this,e=t._self._c;return e("div",[e("p",{staticClass:"text-left py-2 font-semibold"},[t._v("Joining Request")])])}],wt={name:"JoinRequest",computed:{...(0,g.rn)("comm",["singleChannel"])},methods:{reqCheck(){let t=this.singleChannel.data.members.filter((t=>0==t.isAccepted));return t},async joinRequest(t,e){let s={communityId:this.singleChannel.data._id,memberId:t,isAccept:e},a=await this.$store.dispatch("comm/acceptRequest",s);a?(await this.$store.dispatch("comm/singleChannInfo",{_id:this.singleChannel.data._id}),this.$swal.fire("Request Rejected","","error")):(await this.$store.dispatch("comm/singleChannInfo",{_id:this.singleChannel.data._id}),this.$swal.fire("Member Joined","","success"))}}},xt=wt,_t=(0,m.Z)(xt,bt,yt,!1,null,null,null),$t=_t.exports,kt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto"},[e("div",{staticClass:"flex justify-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"absolute inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50 bg-opa"},[e("div",{staticClass:"max-w-2xl p-6 bg-white rounded-md shadow-xl"},[e("div",{staticClass:"flex items-center justify-between w-96"},[e("h3",{staticClass:"text-2xl"},[t._v("Edit Profile")]),e("svg",{staticClass:"w-8 h-8 text-red-900 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.toggle}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e("form",{staticClass:"mt-4"},[e("div",{staticClass:"flex justify-center mb-4"},[e("div",{},[e("div",{staticClass:"relative mb-4"},[e("img",{staticClass:"w-24 h-24 rounded-full",attrs:{src:t.userDetails.user.profile,alt:"Home community"}}),e("div",{staticClass:"absolute right-0 -bottom-2",on:{click:function(e){return t.$refs.file.click()}}},[e("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.onFileSelected}}),e("i",{staticClass:"fa-solid fa-pencil fa-lg"})])])])]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.firstname,expression:"form.firstname"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"First name"},domProps:{value:t.form.firstname},on:{input:function(e){e.target.composing||t.$set(t.form,"firstname",e.target.value)}}})]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.lastname,expression:"form.lastname"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Last Name"},domProps:{value:t.form.lastname},on:{input:function(e){e.target.composing||t.$set(t.form,"lastname",e.target.value)}}})]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"w-full rounded-md",attrs:{type:"email",placeholder:"Email Address"},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}})]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Phone"},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}})]),e("div",[t.isLoading?e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-3 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow opacity-50 cursor-not-allowed",attrs:{type:"button",disabled:"true"}},[e("svg",{staticClass:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading... ")])]):e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-10 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow hover:bg-blue-500",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" Submit ")])])])])])])])])},Pt=[],St={name:"EditProfile",props:{toggle:{type:Function,required:!0}},data(){return{isOpen:!1,selectedFile:null,imgS3Url:null,isLoading:!1,form:{firstname:"",lastname:"",phone:"",email:"",profile:""}}},watch:{userDetails(t){t&&(this.form.firstname=this.userDetails.user.firstname,this.form.lastname=this.userDetails.user.lastname,this.form.phone=this.userDetails.user.phone,this.form.email=this.userDetails.user.email)}},computed:{...(0,g.rn)("auth",["userDetails"])},methods:{async onFileSelected(t){this.selectedFile=t.target.files[0],console.log(this.selectedFile);let e=new FormData;e.append("image",this.selectedFile),this.isLoading=!0;let s=await v().post(`${f.baseUrl}/s3Path/ImgUrl`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.isLoading=!1,this.imgS3Url=s.data.imageUrl},setValue(){this.form.firstname=this.userDetails.user.firstname,this.form.lastname=this.userDetails.user.lastname,this.form.phone=this.userDetails.user.phone,this.form.email=this.userDetails.user.email},async handleSubmit(){let t={firstname:this.form.firstname,lastname:this.form.lastname,email:this.form.phone,phone:this.form.email,Profile:null!==this.imgS3Url?this.imgS3Url:this.userDetails.user.profile};console.log(t);let e=await this.$store.dispatch("user/updateUser",t);e?(this.$swal.fire("Successfully Edited Profile ","","success"),await this.$store.dispatch("user/getMyDetails",t),this.toggle()):this.$swal.fire("Somthing Went Wrong","","error")}},mounted(){this.setValue()}},Lt=St,jt=(0,m.Z)(Lt,kt,Pt,!1,null,null,null),Nt=jt.exports,At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto"},[e("div",{staticClass:"flex justify-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"absolute inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50 bg-opa"},[e("div",{staticClass:"max-w-2xl p-6 bg-white rounded-md shadow-xl"},[e("div",{staticClass:"flex items-center justify-between w-96"},[e("h3",{staticClass:"text-2xl"},[t._v("Edit Channel")]),e("svg",{staticClass:"w-8 h-8 text-red-900 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.toggle}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e("form",{staticClass:"mt-4"},[e("div",{staticClass:"flex justify-center mb-4"},[e("div",{},[e("div",{staticClass:"relative mb-4"},[e("img",{staticClass:"w-24 h-24 rounded-full",attrs:{src:t.singleChannel.data.communityImage,alt:"Home community"}}),e("div",{staticClass:"absolute right-0 -bottom-2",on:{click:function(e){return t.$refs.file.click()}}},[e("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.onFileSelected}}),e("i",{staticClass:"fa-solid fa-pencil fa-lg"})])])])]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.commName,expression:"form.commName"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Community name"},domProps:{value:t.form.commName},on:{input:function(e){e.target.composing||t.$set(t.form,"commName",e.target.value)}}})]),e("div",{staticClass:"my-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.commDes,expression:"form.commDes"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Community Description"},domProps:{value:t.form.commDes},on:{input:function(e){e.target.composing||t.$set(t.form,"commDes",e.target.value)}}})]),e("div",[t.isLoading?e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-3 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow opacity-50 cursor-not-allowed",attrs:{type:"button",disabled:"true"}},[e("svg",{staticClass:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading... ")])]):e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-10 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow hover:bg-blue-500",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.editCommunity.apply(null,arguments)}}},[t._v(" Submit ")])])])])])])])])},Ut=[],It={name:"EditChannel",props:{toggle:{type:Function,required:!0}},data(){return{isOpen:!1,selectedFile:null,imgS3Url:null,isLoading:!1,form:{commName:"",commDes:"",commImg:""}}},watch:{userDetails(t){t&&(this.form.commName=this.singleChannel.data.communityName,this.form.commDes=this.singleChannel.data.description)}},computed:{...(0,g.rn)("comm",["singleChannel"])},methods:{async onFileSelected(t){this.selectedFile=t.target.files[0],console.log(this.selectedFile);let e=new FormData;e.append("image",this.selectedFile),this.isLoading=!0;let s=await v().post(`${f.baseUrl}/s3Path/ImgUrl`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.isLoading=!1,this.imgS3Url=s.data.imageUrl},setValue(){this.form.commName=this.singleChannel.data.communityName,this.form.commDes=this.singleChannel.data.description,this.form.commImg=this.singleChannel.data.communityImage},async editCommunity(){let t={communityId:this.singleChannel.data._id,communityName:this.form.commName,description:this.form.commDes,communityImage:null!==this.imgS3Url?this.imgS3Url:this.form.commImg};await this.$store.dispatch("comm/editCommunity",t),this.toggle()}},mounted(){this.setValue()}},Tt=It,Dt=(0,m.Z)(Tt,At,Ut,!1,null,null,null),Bt=Dt.exports,qt={name:"ProfileSection",components:{JoinRequest:$t,EditProfile:Nt,EditChannel:Bt,CreateChannel:it},data(){return{visible:!1,editVisible:!1,editChannel:!1}},computed:{...(0,g.rn)("comm",["singleChannel","userJoinComm"]),...(0,g.rn)("auth",["user","userDetails"])},methods:{toggle(){this.visible=!this.visible},editToggle(){this.editVisible=!this.editVisible},editChnToggle(){this.editChannel=!this.editChannel},checkRequest(){let t=this.singleChannel.data.members.filter((t=>0==t.isAccepted));return t.length>0},async leaveComm(t){let e={communityId:t},s=await this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, leave Channel!"});if(s.isConfirmed){let t=await this.$store.dispatch("comm/leaveCommunity",e);t?(this.$swal.fire("Succfully Leave","","success"),await this.$store.dispatch("comm/getAllCOmmunity"),await this.$store.dispatch("comm/getUserJoinComm"),this.userJoinComm.length>0&&(console.log("Enter Thissssss"),await this.$store.dispatch("comm/singleChannInfo",{_id:this.userJoinComm[0]._id}))):this.$swal.fire("Somthing Went Wrong","","error")}},async deleteComm(t){let e={communityId:t},s=await this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});if(s.isConfirmed){let t=await this.$store.dispatch("comm/deleteCommunity",e);t?(this.$swal.fire("Succfully Leave","","success"),await this.$store.dispatch("comm/getAllCOmmunity"),await this.$store.dispatch("comm/getUserJoinComm")):this.$swal.fire("Somthing Went Wrong","","error")}},async logout(){console.log("click");try{await this.$store.dispatch("auth/logoutAction")}catch(t){console.log(t)}}}},Ft=qt,zt=(0,m.Z)(Ft,vt,Ct,!1,null,null,null),Mt=zt.exports,Et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"border-slate-300 overflow-auto row-span-full scroll-hidden h-screen post-hei"},[e("div",{},[t.commPost.length>0?e("div",[e("div",[t._l(t.commPost,(function(s){return e("div",{key:s._id},[e("div",{staticClass:"m-4 border-2 rounded-lg pt-3 shadow-lg"},[e("div",{staticClass:"flex items-center px-3 pb-1"},[t._m(0,!0),e("div",{staticClass:"flex-1 mx-4"},[e("h3",[t._v(" "+t._s(s.createdBy.user[0].firstname+" "+s.createdBy.user[0].lastname)+" ")]),e("p",[t._v("Posted 2 hours ago")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:s.createdBy.user[0]._id===t.userDetails.user._id,expression:"item.createdBy.user[0]._id === userDetails.user._id"}]},[e("button",{on:{click:function(e){return t.deletePost(s._id)}}},[e("i",{staticClass:"fa-regular fa-trash-can"})])])]),e("div",{staticClass:"border-y-2"},[e("img",{staticClass:"object-contain p-2 bg-slate-50 h-64 w-full",attrs:{src:s.Image,alt:"Home community"}}),e("div",{staticClass:"w-full"},[e("p",{staticClass:"px-3 break-all"},[t._v(t._s(s.title))])])]),e("div",{staticClass:"flex items-center justify-around pt-2"},[e("div",[e("button",{on:{click:function(e){e.preventDefault(),s.isLike?t.postUnlike(s._id):t.postLike(s._id)}}},[e("i",{staticClass:"fa-heart",class:s.isLike?"fa-solid":"fa-regular",style:s.isLike&&"color: blue"}),e("span",{staticClass:"mx-1"},[t._v(t._s(s.likeCount))]),t._v(" Like ")])]),e("div",[e("button",[e("i",{staticClass:"fa-regular fa-comment"}),e("span",{staticClass:"mx-1"},[t._v(t._s(s.comments.length))]),t._v(" Comments ")])])]),e("div",[e("div",{staticClass:"flex border-2 border-slate-300 p-1 gap-2 rounded-full m-2 mb-0"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.commTxt,expression:"commTxt"}],staticClass:"flex-1 border-transparent focus:border-transparent focus:ring-0 rounded-full",attrs:{type:"text",placeholder:"Comments"},domProps:{value:t.commTxt},on:{input:function(e){e.target.composing||(t.commTxt=e.target.value)}}}),e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md py-1 px-5 text-center",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.commentOnPost(s._id)}}},[t._v(" Post ")])]),e("div",{staticClass:"w-full text-center mt-2 bg-slate-200"},[e("button",{staticClass:"py-2",on:{click:function(e){return t.viewComm(s.comments)}}},[t._v(" View All Comments ")])]),t.showComments?e("div",{staticClass:"bg-opacity-20"},[e("ViewAllCom",{attrs:{toggle:t.commToggle}})],1):t._e()])])])})),e("div",{staticClass:"bottom-24 sticky btn-bottom"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md px-6 py-5 text-center absolute right-0 bottom-0",on:{click:t.toggle}},[e("i",{staticClass:"fa-solid fa-plus fa-lg"})])]),e("div",{staticClass:"max-screen"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md px-6 py-5 text-center absolute plus-btn",on:{click:t.toggle}},[e("i",{staticClass:"fa-solid fa-plus fa-lg"})])])],2)]):e("div",{},[t._m(1),e("p",{staticClass:"text-center font-semibold text-xl"},[t._v(" Be the first to upload a new post ")]),e("div",{staticClass:"text-center my-5"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md py-2 px-8 text-center",on:{click:t.toggle}},[t._v(" Create Post ")])])]),t.visible?e("div",{},[e("CreatePost",{attrs:{toggle:t.toggle}})],1):t._e()])])},Jt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"rounded-full w-16"},[e("img",{staticClass:"h-14",attrs:{src:s(2308),alt:"Home community"}})])},function(){var t=this,e=t._self._c;return e("div",[e("img",{staticClass:"w-full h-96",attrs:{src:s(3292),alt:"Sample image"}})])}],Zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container mx-auto"},[e("div",{staticClass:"flex justify-center"},[e("div",{directives:[{name:"show",rawName:"v-show",value:!0,expression:"true"}],staticClass:"absolute inset-0 flex items-center justify-center bg-gray-700 bg-opacity-50 h-screen bg-opa"},[e("form",{staticClass:"max-w-2xl p-6 bg-white rounded-md shadow-xl"},[e("div",{staticClass:"flex items-center justify-between w-96"},[e("h3",{staticClass:"text-2xl"},[t._v("Create Post")]),e("svg",{staticClass:"w-8 h-8 text-red-900 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},on:{click:t.toggle}},[e("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}})])]),e("form",{staticClass:"mt-4"},[e("div",{staticClass:"flex justify-center"},[e("div",{staticClass:"flex items-center justify-center w-full h-60 border-2 border-dashed border-red-400"},[e("input",{attrs:{type:"file",accept:"image/*"},on:{change:t.onFileSelected}})])]),e("div",{staticClass:"my-2"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.des,expression:"form.des"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.form.des},on:{blur:function(e){return t.$v.form.des.$touch()},input:function(e){e.target.composing||t.$set(t.form,"des",e.target.value)}}}),t._v(" "),t.$v.form.des.$error?e("div",[t.$v.form.des.required?t._e():e("div",{staticClass:"error-message"},[e("small",[t._v("This field can't be empty")])]),t.$v.form.des.minLength?t._e():e("div",{staticClass:"error-message"},[e("small",[t._v("min 10 character needs")])])]):t._e()]),e("div",[e("label",[t._v("Choose Community")]),t._l(t.userJoinComm,(function(s){return e("fieldset",{key:s._id},[e("div",{staticClass:"flex items-center mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.channelChoose,expression:"form.channelChoose"}],staticClass:"w-4 h-4 border-gray-300 focus:ring-2 focus:ring-blue-300 dark:focus:ring-blue-600 dark:focus:bg-blue-600 dark:bg-gray-700 dark:border-gray-600",attrs:{type:"radio"},domProps:{value:s._id,checked:t._q(t.form.channelChoose,s._id)},on:{change:function(e){return t.$set(t.form,"channelChoose",s._id)}}}),e("label",{staticClass:"block ml-2 text-sm font-medium text-gray-900 dark:text-gray-300",attrs:{for:"country-option-1"}},[t._v(" "+t._s(s.communityName)+" ")])])])}))],2)]),e("div",[t.isLoading?e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-3 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow opacity-50 cursor-not-allowed",attrs:{type:"button",disabled:"true"}},[e("svg",{staticClass:"w-5 h-5 mr-3 -ml-1 text-white animate-spin",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[e("circle",{staticClass:"opacity-25",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),e("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t._v(" Loading... ")])]):e("div",{staticClass:"flex items-center justify-center"},[e("button",{staticClass:"inline-flex items-center px-10 py-2 text-sm font-semibold leading-6 text-white transition duration-150 ease-in-out bg-blue-600 rounded-md shadow hover:bg-blue-500",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t._v(" Submit ")])])])])])])])},Ot=[],Ht={name:"CreatePost",props:{toggle:{type:Function,required:!0}},computed:{...(0,g.rn)("comm",["singleChannel","userJoinComm"])},data(){return{isOpen:!1,des:"",selectedFile:null,imgS3Url:null,isLoading:!1,form:{channelId:"",des:"",channelChoose:""}}},validations:{form:{des:{required:F.C1,minLength:(0,F.Ei)(12)}}},methods:{async onFileSelected(t){this.selectedFile=t.target.files[0],console.log(this.selectedFile);let e=new FormData;e.append("image",this.selectedFile),this.isLoading=!0;let s=await v().post(`${f.baseUrl}/s3Path/ImgUrl`,e,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});this.isLoading=!1,this.imgS3Url=s.data.imageUrl},async handleSubmit(){let t={communityName:this.form.channelChoose,title:this.form.des,Image:this.imgS3Url},e=await this.$store.dispatch("comm/CreatePost",t);400===e.code?this.$swal.fire(e.msg,"","error"):(this.$swal.fire("Post Created","","success"),await this.$store.dispatch("comm/singleChannInfo",{_id:this.form.channelChoose}),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:this.form.channelChoose}),this.toggle())}}},Kt=Ht,Rt=(0,m.Z)(Kt,Zt,Ot,!1,null,null,null),Vt=Rt.exports,Yt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"fixed z-40 w-screen h-screen inset-0 bg-gray-900 bg-opacity-20"}),e("div",{staticClass:"fixed z-50 top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-white rounded-md px-8 py-6 space-y-5 drop-shadow-lg"},[e("h1",{staticClass:"text-2xl font-semibold w-96"},[t._v("All Comments")]),e("div",{staticClass:"py-5 border-t border-b border-gray-300 h-96 overflow-auto cust-overflow-y-primary-color-grey"},t._l(t.allComments,(function(s){return e("div",{key:s._id},[e("div",{staticClass:"shadow-xl m-3 p-2"},[e("div",{staticClass:"flex items-center py-1"},[t._m(0,!0),e("div",[e("p",[t._v(" "+t._s(s.createdBy.user[0].firstname+" "+s.createdBy.user[0].lastname)+" ")])])]),e("div",{staticClass:"border-y-2"},[e("div",{staticClass:"m-2 ml-16 w-96"},[e("p",[t._v(t._s(" "===s.Comment?"":s.Comment))])])])])])})),0),e("div",{staticClass:"flex justify-end"},[e("button",{staticClass:"px-5 py-2 bg-indigo-500 hover:bg-indigo-700 text-white cursor-pointer rounded-md",on:{click:t.toggle}},[t._v(" Close ")])])])])},Wt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"w-24 px-2"},[e("img",{staticClass:"h-12 w-12 rounded-full border-2",attrs:{src:s(2308),alt:"Home community"}})])}],Gt={name:"ViewAllCom",props:{toggle:{type:Function,required:!0}},computed:{...(0,g.rn)("comm",["allComments"])}},Qt=Gt,Xt=(0,m.Z)(Qt,Yt,Wt,!1,null,null,null),te=Xt.exports,ee={name:"PostSection",components:{CreatePost:Vt,ViewAllCom:te},data(){return{visible:!1,showComments:!1,commTxt:""}},computed:{...(0,g.rn)("comm",["commPost","singleChannel"]),...(0,g.rn)("auth",["userDetails"])},methods:{toggle(){this.visible=!this.visible},commToggle(){this.showComments=!this.showComments},checkMyLink(t){return!!t.isLike},async viewComm(t){await this.$store.dispatch("comm/allComments",t),this.commToggle()},async deletePost(t){let e={postId:t},s=await this.$swal.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});s.isConfirmed&&(await this.$store.dispatch("comm/DeletePost",e),this.$swal.fire("Deleted!","Your file has been deleted.","success")),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:this.singleChannel.data._id})},async postLike(t){let e={postId:t};await this.$store.dispatch("comm/LikePost",e),await this.$store.dispatch("comm/singleChannInfo",{_id:this.singleChannel.data._id}),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:this.singleChannel.data._id})},async postUnlike(t){let e={postId:t};await this.$store.dispatch("comm/UnLikePost",e),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:this.singleChannel.data._id})},async commentOnPost(t){let e={postId:t,comment:this.commTxt},s=await this.$store.dispatch("comm/Comment",e);s?(this.commTxt="",await this.$store.dispatch("comm/singleChannInfo",{_id:this.singleChannel.data._id}),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:this.singleChannel.data._id}),this.$swal.fire("successfully comment on post ","","success")):this.$swal.fire("Somthing Went Wrong","","error")}}},se=ee,ae=(0,m.Z)(se,Et,Jt,!1,null,null,null),ie=ae.exports,oe=function(){var t=this,e=t._self._c;return e("div",[e("h3",{staticClass:"text-center text-lg font-semibold"},[t._v("Joined Community")]),e("div",{staticClass:"row-span-full border-slate-300 overflow-auto scroll-hidden before rounded-l-lg"},[e("div",{staticClass:"px-1 pb-1 pt-2 hor-div"},t._l(t.userJoinComm,(function(s){return e("div",{key:s._id},[e("div",{staticClass:"flex items-center m-2 border-2 p-1 rounded-lg shadow-lg",class:t.singleChannel.data._id===s._id?"text-white bg-gradient-to-r from-yellow-500 to-slate-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800":"bg-white",on:{click:function(e){return t.singleChannelCall(s._id)}}},[e("div",{staticClass:"w-16 hor-div-img"},[e("img",{staticClass:"h-14 rounded-full",attrs:{src:s.communityImage,alt:"Home community"}})]),e("div",{staticClass:"mx-5 hor-div-text"},[e("p",[t._v(t._s(s.communityName))]),e("p",[t._v(t._s(s.type))])])])])})),0),e("div",{staticClass:"height overflow-auto scroll-hidden hide-all"},[e("div",{staticClass:"px-2"},[e("div",{staticClass:"sticky top-0 bg-white p-5"},[e("h3",{staticClass:"text-center my-1 text-lg font-semibold"},[t._v(" All Community ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"w-full rounded-md",attrs:{type:"text",placeholder:"Search Community"},domProps:{value:t.searchKey},on:{change:t.srcProd,input:function(e){e.target.composing||(t.searchKey=e.target.value)}}})]),t._l(t.srcProd(),(function(s){return e("div",{key:s._id,staticClass:"flex items-center w-full my-3 shadow-lg rounded-lg border p-3"},[s.communityImage?e("div",{staticClass:"w-24 px-2"},[e("img",{staticClass:"h-16 w-24 rounded-full",attrs:{src:s.communityImage,alt:"Home community"}})]):t._e(),e("div",{staticClass:"mx-3 flex-1"},[e("div",{staticClass:"flex"},[e("h3",[t._v(t._s(s.communityName))]),e("p",{staticClass:"text-cyan-500 mx-3"},[t._v(t._s(s.type))])]),e("p",[t._v(" "+t._s(s.description)+" ")])]),s.members.filter((e=>e.user._id==t.userDetails.user._id)).length>0?e("div",{staticClass:"self-center w-44"},[e("button",{staticClass:"text-white bg-gradient-to-r from-yellow-500 to-slate-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-normal rounded-3xl text-sm py-2 px-4 text-center"},[t._v(" Request Sent ")])]):e("div",{staticClass:"self-center w-44 text-center"},[e("button",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md py-2 px-8 text-center",on:{click:function(e){return e.preventDefault(),t.joinNewChannel(s._id)}}},[t._v(" Join ")])])])}))],2)])])])},re=[],ne={name:"CommList",data(){return{searchKey:""}},computed:{...(0,g.rn)("comm",["userJoinComm","commList","singleChannel"]),...(0,g.rn)("auth",["userDetails"])},methods:{async singleChannelCall(t){await this.$store.dispatch("comm/singleChannInfo",{_id:t}),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:t})},async joinNewChannel(t){let e={communityId:t},s=await this.$store.dispatch("comm/joinCommunity",e);400===s.code?this.$swal.fire(s.msg,"","error"):(this.$swal.fire(s.msg,"","success"),await this.$store.dispatch("comm/getAllCOmmunity"),await this.$store.dispatch("comm/getUserJoinComm"))},srcProd(){let t=this.commList.length>0?this.commList:[];return t.filter((t=>t.communityName.toLowerCase().includes(this.searchKey.toLowerCase())))}}},le=ne,ce=(0,m.Z)(le,oe,re,!1,null,null,null),me=ce.exports,de={components:{ProfileSection:Mt,PostSection:ie,CommList:me},computed:{...(0,g.rn)("comm",["userJoinComm"])},methods:{async channelFirst(){await this.$store.dispatch("comm/singleChannInfo",{_id:this.userJoinComm[0]._id}),await this.$store.dispatch("comm/CommAllPost",{getByCommunity:this.userJoinComm[0]._id})}},mounted(){this.channelFirst()}},ue=de,ge=(0,m.Z)(ue,ft,pt,!1,null,null,null),he=ge.exports,fe=function(){var t=this,e=t._self._c;return e("div",[e("nav",{staticClass:"bg-white border-gray-200 px-2 sm:px-4 py-2.5 rounded dark:bg-gray-900"},[e("div",{staticClass:"container flex flex-wrap justify-between items-center mx-auto shadow-2xl rounded-full round"},[t._m(0),e("button",{staticClass:"inline-flex items-center p-1 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600 rounded-full",attrs:{"data-collapse-toggle":"navbar-default",type:"button","aria-controls":"navbar-default","aria-expanded":"false"},on:{click:t.resposive}},[e("span",{staticClass:"sr-only"},[t._v("Open main menu")]),e("svg",{staticClass:"w-6 h-6",attrs:{"aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"}},[e("path",{attrs:{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"}})])]),e("div",{staticClass:"w-full md:block md:w-auto",class:t.hidNav&&"hidden",attrs:{id:"navbar-default"}},[e("ul",{staticClass:"flex flex-col p-4 mt-4 items-center bg-gray-50 rounded-lg border border-gray-100 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700 rounded-full btn-ul"},[e("li",{staticClass:"btn-li"},[e("a",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md py-2 px-8 text-center second-btn",attrs:{href:"#"},on:{click:t.joinToggle}},[t._v("All Commuity")])]),e("li",[e("a",{staticClass:"text-white bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-semibold rounded-full text-md py-2 px-8 text-center",attrs:{type:"button"},on:{click:t.logout}},[t._v(" Logout ")])])])])])]),t.joinToggleClick?e("div",[e("AllCommModal",{attrs:{toggle:t.joinToggle}})],1):t._e()])},pe=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex-1 px-4"},[e("h3",{staticClass:"font-bold text-xl"},[t._v(" Go"),e("span",{staticClass:"text-blue-500"},[t._v("Social")])])])}],ve={Name:"Navbar",data(){return{hidNav:!0,joinToggleClick:!1}},methods:{async logout(){let t=await this.$store.dispatch("auth/logout");t&&(this.$swal.fire("Successfully Logout","","success"),this.$router.push({name:"login"}))},joinToggle(){this.joinToggleClick=!this.joinToggleClick},resposive(){this.hidNav=!this.hidNav}},components:{AllCommModal:mt}},Ce=ve,be=(0,m.Z)(Ce,fe,pe,!1,null,null,null),ye=be.exports,we={name:"HomePage",components:{NewUser:ht,MainPage:he,NavBar:ye},computed:{...(0,g.rn)("comm",["commList","userJoinComm"])},async created(){await this.$store.dispatch("comm/getUserJoinComm"),await this.$store.dispatch("comm/getAllCOmmunity")}},xe=we,_e=(0,m.Z)(xe,Y,W,!1,null,null,null),$e=_e.exports;const ke=new D.ZP({mode:"history",routes:[{path:"/",name:"login",component:J},{path:"/register",name:"register",component:V},{path:"/home",name:"home",component:$e,beforeEnter:(t,e,s)=>{let a=I.getters["auth/isAuthenticated"];a||"login"===t.name?s():s("/")}}]});var Pe=ke;a.ZP.config.productionTip=!1,a.ZP.use(D.ZP),a.ZP.use(T.ZP),a.ZP.use(o()),new a.ZP({store:I,router:Pe,render:t=>t(u)}).$mount("#app")},3292:function(t,e,s){t.exports=s.p+"img/CommunityHome.62b69a4c.png"},2308:function(t,e,s){t.exports=s.p+"img/home-comm.b4bef7bd.png"}},e={};function s(a){var i=e[a];if(void 0!==i)return i.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,a,i,o){if(!a){var r=1/0;for(m=0;m<t.length;m++){a=t[m][0],i=t[m][1],o=t[m][2];for(var n=!0,l=0;l<a.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(n=!1,o<r&&(r=o));if(n){t.splice(m--,1);var c=i();void 0!==c&&(e=c)}}return e}o=o||0;for(var m=t.length;m>0&&t[m-1][2]>o;m--)t[m]=t[m-1];t[m]=[a,i,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.p="/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var i,o,r=a[0],n=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(i in n)s.o(n,i)&&(s.m[i]=n[i]);if(l)var m=l(s)}for(e&&e(a);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(m)},a=self["webpackChunkgo_social"]=self["webpackChunkgo_social"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(3748)}));a=s.O(a)})();
//# sourceMappingURL=app.1cca244f.js.map